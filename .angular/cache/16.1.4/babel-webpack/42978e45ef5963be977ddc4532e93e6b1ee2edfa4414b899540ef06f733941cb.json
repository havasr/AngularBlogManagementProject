{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../category.service\";\nimport * as i2 from \"src/app/posts/post.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CategoryDetailComponent_form_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\")(1, \"label\", 8);\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryDetailComponent_form_21_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updatedCategory.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Creation Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryDetailComponent_form_21_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.updatedCategory.creationDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CategoryDetailComponent_form_21_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.handleSaveClick());\n    });\n    i0.ɵɵtext(9, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CategoryDetailComponent_form_21_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.handleCancelClick());\n    });\n    i0.ɵɵtext(11, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.updatedCategory.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.updatedCategory.creationDate);\n  }\n}\nexport class CategoryDetailComponent {\n  constructor(categoryService, postService, activatedRoute) {\n    this.categoryService = categoryService;\n    this.postService = postService;\n    this.activatedRoute = activatedRoute;\n    this.category = {\n      categoryId: 0,\n      name: '',\n      creationDate: ''\n    };\n    this.updatedCategory = {\n      categoryId: this.category.categoryId,\n      name: \"\",\n      creationDate: \"\"\n    };\n    this.postCount = 0;\n    this.editMode = false;\n  }\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params => {\n      const id = params['id'];\n      this.category = this.categoryService.getCategoryById(Number(id));\n      if (this.postService.getPosts().length === 0) {\n        this.postService.setPosts();\n      }\n      this.postCount = this.postService.getPosts().filter(post => post.categoryId === Number(id)).length;\n    });\n  }\n  handleEditClick() {\n    this.editMode = !this.editMode;\n  }\n  handleSaveClick() {\n    this.categoryService.updatedCategory(this.updatedCategory);\n  }\n}\nCategoryDetailComponent.ɵfac = function CategoryDetailComponent_Factory(t) {\n  return new (t || CategoryDetailComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.PostService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nCategoryDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoryDetailComponent,\n  selectors: [[\"app-category-detail\"]],\n  decls: 22,\n  vars: 9,\n  consts: [[1, \"category-card\"], [1, \"category-detail\"], [1, \"header\"], [1, \"content\"], [1, \"footer\"], [3, \"click\"], [3, \"routerLink\"], [4, \"ngIf\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"creationDate\"], [\"type\", \"date\", \"name\", \"creationDate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 3, \"click\"]],\n  template: function CategoryDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"p\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"h1\");\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"uppercase\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"h2\");\n      i0.ɵɵtext(10, \"Creation Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"div\")(15, \"p\");\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(17, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function CategoryDetailComponent_Template_button_click_17_listener() {\n        return ctx.handleEditClick();\n      });\n      i0.ɵɵtext(18, \"Edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 6);\n      i0.ɵɵtext(20, \"Return\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, CategoryDetailComponent_form_21_Template, 12, 2, \"form\", 7);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.category.categoryId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 7, ctx.category.name));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.category.creationDate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate2(\"The \", ctx.category.name, \" category contains \", ctx.postCount, \" posts. \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", \"/categorylist\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.editMode);\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i3.RouterLink, i4.UpperCasePipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CategoryDetailComponent_form_21_Template_input_ngModelChange_3_listener","$event","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","updatedCategory","name","CategoryDetailComponent_form_21_Template_input_ngModelChange_6_listener","ctx_r3","creationDate","CategoryDetailComponent_form_21_Template_button_click_8_listener","ctx_r4","handleSaveClick","CategoryDetailComponent_form_21_Template_button_click_10_listener","ctx_r5","handleCancelClick","ɵɵadvance","ɵɵproperty","ctx_r0","CategoryDetailComponent","constructor","categoryService","postService","activatedRoute","category","categoryId","postCount","editMode","ngOnInit","params","subscribe","id","getCategoryById","Number","getPosts","length","setPosts","filter","post","handleEditClick","ɵɵdirectiveInject","i1","CategoryService","i2","PostService","i3","ActivatedRoute","selectors","decls","vars","consts","template","CategoryDetailComponent_Template","rf","ctx","CategoryDetailComponent_Template_button_click_17_listener","ɵɵtemplate","CategoryDetailComponent_form_21_Template","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵtextInterpolate2"],"sources":["C:\\Users\\PC\\Allianz-ANGULAR\\patika-ng\\src\\app\\category\\category-detail\\category-detail.component.ts","C:\\Users\\PC\\Allianz-ANGULAR\\patika-ng\\src\\app\\category\\category-detail\\category-detail.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Category } from '../category';\nimport { CategoryService } from '../category.service';\nimport { PostService } from 'src/app/posts/post.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-category-detail',\n  templateUrl: './category-detail.component.html',\n  styleUrls: ['./category-detail.component.css'],\n})\nexport class CategoryDetailComponent {\n  category: Category = {\n    categoryId: 0,\n    name: '',\n    creationDate: '',\n  };\n\n  updatedCategory: Category = {\n    categoryId: this.category.categoryId,\n    name: \"\",\n    creationDate: \"\"\n  }\n\n  postCount: number = 0;\n  editMode: boolean = false;\n\n  constructor(\n    private categoryService: CategoryService,\n    private postService: PostService,\n    private activatedRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe((params) => {\n      const id = params['id'];\n      this.category = this.categoryService.getCategoryById(Number(id))!;\n      if(this.postService.getPosts().length === 0){\n        this.postService.setPosts();}\n      this.postCount = this.postService.getPosts().filter(post => post.categoryId === Number(id)).length;\n    });\n  }\n\nhandleEditClick(){\n  this.editMode = !this.editMode;\n}\n\nhandleSaveClick(){\n  this.categoryService.updatedCategory(this.updatedCategory);\n}\n\nhandle\n\n}\n","<div class=\"category-card\">\n    <div class=\"category-detail\">\n      <div class=\"header\">\n        <p>{{ category.categoryId }}</p>\n        <h1>{{ category.name | uppercase }}</h1>\n      </div>\n      <div class=\"content\">\n        <h2>Creation Date</h2>\n        <p>{{ category.creationDate }}</p>\n      </div>\n      <div class=\"footer\">\n        <div>\n          <p>The {{category.name}} category contains {{postCount}} posts. </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <button (click)=\"handleEditClick()\">Edit</button>\n  <button [routerLink]=\"'/categorylist'\">Return</button>\n\n  <form *ngIf=\"editMode\">\n    <label for=\"name\">Name</label>\n    <input type=\"text\" [(ngModel)]=\"updatedCategory.name\" name=\"name\">\n    <label for=\"creationDate\">Creation Date</label>\n    <input type=\"date\" [(ngModel)]=\"updatedCategory.creationDate\" name=\"creationDate\" >\n<div>\n    <button type=\"button\" (click)=\"handleSaveClick()\">Save</button>\n    <button type=\"button\" (click)=\"handleCancelClick()\">Cancel</button>\n</div>\n  </form>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}