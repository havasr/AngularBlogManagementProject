{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserListComponent = class UserListComponent {\n  constructor(userService, postService) {\n    this.userService = userService;\n    this.postService = postService;\n    this.users = [];\n    //forms kisminda yer alan degiskenler tanimlandi.\n    this.username = '';\n    this.email = '';\n    this.creationDate = '';\n    this.isActive = false;\n    this.editMode = false;\n    this.userId = 0;\n    this.userService.setUsers();\n    this.users = this.userService.getUsers();\n  }\n  //son kullanici kalmasi durumu engellendi.\n  handleDeleteClick($event) {\n    if (this.userService.userCount() === 1) {\n      alert('You cannot delete the last user.');\n    } else {\n      this.userService.deleteUser($event);\n      this.users = this.userService.getUsers();\n    }\n  }\n  //\n  handleSaveClick() {\n    if (this.username == '' || this.email == '' || this.creationDate == '') {\n      alert('Please fill in all sections.');\n    } else if (this.userService.checkUnique(this.username, this.email, this.userId) === false) {\n      alert('Username and email must be unique.');\n    } else {\n      const user = {\n        userId: this.userId,\n        username: this.username,\n        email: this.email,\n        creationDate: this.creationDate,\n        isActive: this.isActive\n      };\n      this.userService.editUser(user, this.userId);\n      this.users = this.userService.getUsers();\n      this.handleCancelClick();\n    }\n  }\n  //userId: Number(this.users[this.users.length-1].userId) + 1,\n  handleEditClick($event) {\n    this.editMode = true;\n    this.userId = $event;\n  }\n  handleCancelClick() {\n    this.editMode = false;\n    this.username = '';\n    this.email = '';\n    this.creationDate = '';\n    this.userId = 0;\n  }\n};\nUserListComponent = __decorate([Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})], UserListComponent);","map":{"version":3,"names":["Component","UserListComponent","constructor","userService","postService","users","username","email","creationDate","isActive","editMode","userId","setUsers","getUsers","handleDeleteClick","$event","userCount","alert","deleteUser","handleSaveClick","checkUnique","user","editUser","handleCancelClick","handleEditClick","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\PC\\Allianz-ANGULAR\\patika-ng\\src\\app\\user\\user-list\\user-list.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { User } from '../user';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css'],\n})\nexport class UserListComponent {\n  users: User[] = [];\n\n  //forms kisminda yer alan degiskenler tanimlandi.\n  username: string = '';\n  email: string = '';\n  creationDate: string = '';\n  isActive: boolean = false;\n  editMode: boolean = false;\n  userId: number = 0;\n\n  constructor(private userService: UserService, private postService: ) {\n    this.userService.setUsers();\n    this.users = this.userService.getUsers();\n  }\n\n  //son kullanici kalmasi durumu engellendi.\n  handleDeleteClick($event: number) {\n    if (this.userService.userCount() === 1) {\n      alert('You cannot delete the last user.');\n    } else {\n      this.userService.deleteUser($event);\n      this.users = this.userService.getUsers();\n    }\n  }\n\n  //\n  handleSaveClick() {\n    if (this.username == '' || this.email == '' || this.creationDate == '') {\n      alert('Please fill in all sections.');\n    } else if (\n      this.userService.checkUnique(this.username, this.email, this.userId) ===\n      false\n    ) {\n      alert('Username and email must be unique.');\n    } else {\n      const user: User = {\n        userId: this.userId,\n        username: this.username,\n        email: this.email,\n        creationDate: this.creationDate,\n        isActive: this.isActive,\n      };\n      this.userService.editUser(user, this.userId);\n      this.users = this.userService.getUsers();\n      this.handleCancelClick();\n    }\n  }\n\n  //userId: Number(this.users[this.users.length-1].userId) + 1,\n\n  handleEditClick($event: number): void {\n    this.editMode = true;\n    this.userId = $event;\n  }\n\n  handleCancelClick(): void {\n    this.editMode = false;\n    this.username = '';\n    this.email = '';\n    this.creationDate = '';\n    this.userId = 0;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAW5BC,YAAoBC,WAAwB,EAAUC,WAAY;IAA9C,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IAVjE,KAAAC,KAAK,GAAW,EAAE;IAElB;IACA,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,QAAQ,GAAY,KAAK;IACzB,KAAAC,QAAQ,GAAY,KAAK;IACzB,KAAAC,MAAM,GAAW,CAAC;IAGhB,IAAI,CAACR,WAAW,CAACS,QAAQ,EAAE;IAC3B,IAAI,CAACP,KAAK,GAAG,IAAI,CAACF,WAAW,CAACU,QAAQ,EAAE;EAC1C;EAEA;EACAC,iBAAiBA,CAACC,MAAc;IAC9B,IAAI,IAAI,CAACZ,WAAW,CAACa,SAAS,EAAE,KAAK,CAAC,EAAE;MACtCC,KAAK,CAAC,kCAAkC,CAAC;KAC1C,MAAM;MACL,IAAI,CAACd,WAAW,CAACe,UAAU,CAACH,MAAM,CAAC;MACnC,IAAI,CAACV,KAAK,GAAG,IAAI,CAACF,WAAW,CAACU,QAAQ,EAAE;;EAE5C;EAEA;EACAM,eAAeA,CAAA;IACb,IAAI,IAAI,CAACb,QAAQ,IAAI,EAAE,IAAI,IAAI,CAACC,KAAK,IAAI,EAAE,IAAI,IAAI,CAACC,YAAY,IAAI,EAAE,EAAE;MACtES,KAAK,CAAC,8BAA8B,CAAC;KACtC,MAAM,IACL,IAAI,CAACd,WAAW,CAACiB,WAAW,CAAC,IAAI,CAACd,QAAQ,EAAE,IAAI,CAACC,KAAK,EAAE,IAAI,CAACI,MAAM,CAAC,KACpE,KAAK,EACL;MACAM,KAAK,CAAC,oCAAoC,CAAC;KAC5C,MAAM;MACL,MAAMI,IAAI,GAAS;QACjBV,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBL,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,YAAY,EAAE,IAAI,CAACA,YAAY;QAC/BC,QAAQ,EAAE,IAAI,CAACA;OAChB;MACD,IAAI,CAACN,WAAW,CAACmB,QAAQ,CAACD,IAAI,EAAE,IAAI,CAACV,MAAM,CAAC;MAC5C,IAAI,CAACN,KAAK,GAAG,IAAI,CAACF,WAAW,CAACU,QAAQ,EAAE;MACxC,IAAI,CAACU,iBAAiB,EAAE;;EAE5B;EAEA;EAEAC,eAAeA,CAACT,MAAc;IAC5B,IAAI,CAACL,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,MAAM,GAAGI,MAAM;EACtB;EAEAQ,iBAAiBA,CAAA;IACf,IAAI,CAACb,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACJ,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACG,MAAM,GAAG,CAAC;EACjB;CACD;AA/DYV,iBAAiB,GAAAwB,UAAA,EAL7BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW3B,iBAAiB,CA+D7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}